<div class="uk-container uk-margin-top">
  <div class="uk-width-1-2@m uk-margin">

    <nav class="uk-navbar-container uk-margin-bottom" uk-navbar>
      <div class="uk-navbar-left ">
        <ul class="uk-navbar-nav">
          <li class="uk-active">INSERIR NOVO QUADRO</li>
        </ul>
      </div>
    </nav>

    <app-loading *ngIf="busy"></app-loading>

    <form [formGroup]="form" *ngIf="!busy">
      <div class="uk-card uk-card-primary uk-card-body uk-box-shadow-small">

        <div class="uk-form-danger" *ngIf="errors.length > 0">
          <h4 class="uk-text-center" id="msgRetorno"> Opa! Alguma coisa não deu certo:</h4>
          <ul>
            <li *ngFor="let error of errors">{{ error.message }}</li>
          </ul>
        </div>

        <div class="uk-margin">
          <input class="uk-input uk-form-medium" formControlName="titulo" type="text" placeholder="Titulo"
            [ngClass]="{'uk-form-danger': (!form.controls.titulo.valid && !form.controls.titulo.pristine) }">
        </div>

        <div class="uk-margin">
          <my-date-picker id="initialdate" name="initialdate" [options]="myDatePickerOptions"
            formControlName="initialdate" placeholder="Data de Inicio"
            [ngClass]="{'uk-form-danger': (!form.controls.initialdate.valid && !form.controls.initialdate.pristine)}">
          </my-date-picker>
        </div>

        <div class="uk-margin ">
          <my-date-picker id="expirationdate" name="expirationdate" [options]="myDatePickerOptions"
            formControlName="expirationdate" placeholder="Data de Expiração"
            [ngClass]="{'uk-form-danger': (!form.controls.expirationdate.valid && !form.controls.expirationdate.pristine)}">
          </my-date-picker>
        </div>

        <div class="uk-margin ">
          <label class="image-upload-container btn btn-bwm">
            <span>Selecione a imagem:</span>
            <input class="uk-input" [disabled]="form.invalid" #imageInput type="file" accept="image/*" (change)="submit(imageInput)">
          </label>
        </div>

        <p class="uk-text-center">
          <a href="/" class="uk-button uk-button-link">Cancelar</a>
        </p>

      </div>
    </form>
  </div>
</div>